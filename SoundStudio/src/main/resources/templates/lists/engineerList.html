<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/header.html :: header"></head>
<body id="page-top">
	<div>
		<nav class="navbar navbar-expand navbar-dark bg-dark static-top"
			th:include="fragments/sidebar.html :: navbar"></nav>
		<div id="wrapper">
			<ul class="sidebar navbar-nav"
				th:replace="fragments/sidebar :: sidebar"></ul>
			<!-- DataTable -->
			<div class="card mb-3">
				<div class="card-header">
					<i class="fas fa-table"></i> Engineers List
					<p></p>
				</div>
				

				
					<!-- Breadcrumbs-->
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="#">Sound Studio</a></li>
						<li class="breadcrumb-item active">Engineers List</li>
					</ol>

<!-- 				<form -->
<!-- 					class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0" -->
<!-- 					method="POST" action="/addMusician" enctype="multipart/form-data"> -->

<!-- 					<input class="form-control" type="submit" value="Submit" /> -->

					<div class="card-body">
						<div class="table-responsive">
							<table class="table table-bordered" id="dataTable">
								<thead>
									<tr>
										<th>Name</th>
										<th>Surname</th>
										<th>Email</th>
										<th>Phone</th>
										<th>Address</th>
										<th>City</th>
										<th>Postcode</th>
										<th>Country</th>
										<th>Sessions</th>
										<th>Delete</th>
									</tr>
								</thead>
								<tfoot>
									<tr>
										<th>Name</th>
										<th>Surname</th>
										<th>Email</th>
										<th>Phone</th>
										<th>Address</th>
										<th>City</th>
										<th>Postcode</th>
										<th>Country</th>
										<th>Sessions</th>
										<th>Delete</th>
									</tr>
								</tfoot>
								<tbody>
								
									<th:block th:each="engineer : ${engineers}">
									<tr>
										<td th:text="${engineer.name}"></td>
										<td th:text="${engineer.surname}"></td>
										<td th:text="${engineer.contact.email}"></td>
										<td th:text="${engineer.contact.phone}"></td>
										<td th:text="${engineer.contact.address}"></td>
										<td th:text="${engineer.contact.city}"></td>
										<td th:text="${engineer.contact.country}"></td>
										<td th:text="${engineer.contact.postcode}"></td>
										<td><button class="btn dropdown-toggle" type="button"
													data-toggle="dropdown">
													Sessions <span class="caret"></span>
												</button>
												<ul class="dropdown-menu">
													<th:block th:each="thissession : ${engineer.engineerFee}">
														<li><a th:text="${thissession.recsession.sessionDate}"></a>
													</th:block>
												</ul>
											</td>
											<td><form method="POST" th:action="@{/deleteEngineer}"
												enctype="multipart/form-data" th:name="engID">
												<button class="form-control" type="submit" th:text="Delete"
													th:name="engID" th:value="${engineer.id}"
													th:action="@{/deleteEngineer}">Delete</button>
											</form></td>
											
										</tr>
									</th:block>
									
								</tbody>
							</table>
						</div>
					</div>
					<input class="form-control" type="submit" value="Submit" />
<!-- 				</form> -->
			</div>
			
			
			
		</div>
	</div>
	<!-- <footer th:replace="fragments/footer.html :: footer"></footer> -->
</body>
<footer th:replace="fragments/footer.html :: footer"></footer>
</html>